<div id="all">
  <div style="text-align: center">
    <h1>
      {{ title }}
    </h1>
  </div>

  <div>
    <p>
      Filtrar por:
      <input type="search" placeholder="(marca de coche)" [(ngModel)]="brandToFilter">
    </p>
    <table>
      <tr>
        <th>Foto</th>
        <th>Marca</th>
        <th>Modelo</th>
        <th>AÃ±o</th>
        <th>En venta desde</th>
        <th>Precio</th>
        <th>PVP</th>
        <th>Acciones</th>
      </tr>
      <tr *ngFor="let car of cars | filtro: brandToFilter; let i = index">
        <td>
          <p *ngIf="car.pic==''">(sin foto!)</p>
          <img *ngIf="car.pic!=''" src="{{ car.pic }}" id="carpic" />
        </td>
        <td>{{ car.brand | uppercase}}</td>
        <td>{{ car.model | lowercase}}</td>
        <td>{{ car.year.getFullYear() }}</td>
        <td>{{ car.dateOnSale.getMonth()+"-"+car.dateOnSale.getFullYear() }}</td>
        <td>{{ car.price | currency: "EUR":"symbol":"1.0-0":"es" }}</td>
        <td>
          <div [ngClass]="isGoodCondition(car.condition)?'good':'bad'">{{ car.price * 1.21 | currency:
            "EUR":"symbol":"1.0-0":"es" }}</div>
        </td>
        <td id="tableButtons">
          <button type="button" (click)="car.lower()">Rebajar</button>
          <button type="button" (click)="sold(i)">Vendido</button>
        </td>
      </tr>
    </table>
  </div>
</div>
